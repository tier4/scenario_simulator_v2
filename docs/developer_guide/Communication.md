
## Communication with Autoware.Universe

### Subscribers

| topic                                                                          | type                                                                                                                                                                               | note                                                             |
|--------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
| `/autoware/state`                                                              | [`autoware_auto_system_msgs/msg/AutowareState`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_system_msgs/msg/AutowareState.idl)                       | used in UserDefinedValueCondition : `currentAutowareState`       |
| `/control/command/control_cmd`                                                 | [`autoware_auto_control_msgs/msg/AckermannControlCommand`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_control_msgs/msg/AckermannControlCommand.idl) |                                                                  |
| `/control/command/gear_cmd`                                                    | [`autoware_auto_vehicle_msgs/msg/GearCommand`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_vehicle_msgs/msg/GearCommand.idl)                         |                                                                  |
| `/control/command/turn_indicators_cmd`                                         | [`autoware_auto_vehicle_msgs/msg/TurnIndicatorsCommand`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_vehicle_msgs/msg/TurnIndicatorsCommand.idl)     | used in UserDefinedValueCondition : `currentTurnIndicatorsState` |                       
| `/parameter_events`                                                            | [`rcl_interfaces/msg/ParameterEvent`](https://github.com/ros2/rcl_interfaces/blob/master/rcl_interfaces/msg/ParameterEvent.msg)                                                    |                                                                  |
| `/planning/scenario_planning/lane_driving/behavior_planning/path_with_lane_id` | [`autoware_auto_planning_msgs/msg/PathWithLaneId`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_planning_msgs/msg/PathWithLaneId.idl)                 |                                                                  |
| `/planning/scenario_planning/trajectory`                                       | [`autoware_auto_planning_msgs/msg/Trajectory`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_planning_msgs/msg/Trajectory.idl)                         |                                                                  |
| `/system/emergency/emergency_state`                                            | [`autoware_auto_system_msgs/msg/EmergencyState`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_system_msgs/msg/EmergencyState.idl)                     | used in UserDefinedValueCondition : `currentEmergencyState`      |
| `/planning/scenario_planning/motion_velocity_optimizer/closest_jerk`           | [`tier4_debug_msgs/msg/Float32Stamped`](https://github.com/tier4/tier4_autoware_msgs/blob/tier4/universe/tier4_debug_msgs/msg/Float32Stamped.msg)                                  | used in /simulation/openscenario_interpreter                     |
| `/api/external/get/rtc_status`                                                 | [`tier4_rtc_msgs::msg::CooperateStatusArray`](https://github.com/tier4/tier4_autoware_msgs/blob/tier4/universe/tier4_rtc_msgs/msg/CooperateStatusArray.msg)                        |                                                                  |

### Publishers

| topic                                                   | type                                                                                                                                                                           | user nodes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | note                                                                                                                                                                  |
|---------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `/clock`                                                | [`rcl_interfaces/msg/Clock`](https://github.com/ros2/rcl_interfaces/blob/master/rosgraph_msgs/msg/Clock.msg)                                                                   | all nodes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                       |
| `/initialpose`                                          | [`geometry_msgs/msg/PoseWithCovarianceStamped`](https://github.com/ros2/common_interfaces/blob/master/geometry_msgs/msg/PoseWithCovarianceStamped.msg)                         | `/autoware_api/internal/initial_pose_2d`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                       |
| `/localization/kinematic_state`                         | [`nav_msgs/msg/Odometry`](https://github.com/ros2/common_interfaces/blob/master/nav_msgs/msg/Odometry.msg)                                                                     | `/control/trajectory_follower/longitudinal_controller_node_exe`<br/>`/control/external_cmd_converter`<br/>`/control/trajectory_follower/lateral_controller_node_exe`<br/>`/control/trajectory_follower/lane_departure_checker_node`<br/>`/control/vehicle_cmd_gate`<br/>`/planning/scenario_planning/lane_driving/behavior_planning/behavior_path_planner`<br/>`/planning/scenario_planning/lane_driving/behavior_planning/behavior_velocity_planner`<br/>`/planning/scenario_planning/motion_velocity_smoother`<br/>`/planning/scenario_planning/parking/freespace_planner`<br/>`/awapi/awapi_awiv_adapter_node`<br/>`/system/emergency_handler`<br/>`/system/ad_service_state_monitor`<br/>`/planning/scenario_planning/scenario_selector`<br/>`/planning/scenario_planning/lane_driving/motion_planning/obstacle_avoidance_planner`<br/>`/planning/scenario_planning/lane_driving/motion_planning/surround_obstacle_checker`<br/>`/planning/scenario_planning/lane_driving/motion_planning/obstacle_stop_planner` |                                                                                                                                                                       |
| `/planning/mission_planning/checkpoint`                 | [`geometry_msgs/msg/PoseStamped`](https://github.com/ros2/common_interfaces/blob/master/geometry_msgs/msg/PoseStamped.msg)                                                     | `/planning/mission_planning/mission_planner`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                       |
| `/planning/mission_planning/goal`                       | [`geometry_msgs/msg/PoseStamped`](https://github.com/ros2/common_interfaces/blob/master/geometry_msgs/msg/PoseStamped.msg)                                                     | `/planning/mission_planning/mission_planner`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                       |
| `/vehicle/status/control_mode`                          | [`autoware_auto_vehicle_msgs/msg/ControlModeReport`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_vehicle_msgs/msg/ControlModeReport.idl)         | `/autoware_api/internal/iv_msgs`<br/>`/autoware_api/internal/operator`<br/>`/system/emergency_handler`<br/>`/system/system_error_monitor`<br/>`/system/ad_service_state_monitor`<br/>`/awapi/awapi_awiv_adapter_node`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                                       |
| `/vehicle/status/gear_status`                           | [`autoware_auto_vehicle_msgs/msg/GearReport`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_vehicle_msgs/msg/GearReport.idl)                       | `/autoware_api/external/vehicle_status`<br/>`/awapi/awapi_awiv_adapter_node`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                       |
| `/vehicle/status/steering_status`                       | [`autoware_auto_vehicle_msgs/msg/SteeringReport`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_vehicle_msgs/msg/SteeringReport.idl)               | `/system/ad_service_state_monitor`<br/>`/autoware_api/external/vehicle_status`<br/>`/control/trajectory_follower/lateral_controller_node_exe`<br/>`/control/vehicle_cmd_gate`<br/>`/awapi/awapi_awiv_adapter_node`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                       |
| `/vehicle/status/turn_indicators_status`                | [`autoware_auto_vehicle_msgs/msg/TurnIndicatorsReport`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_vehicle_msgs/msg/TurnIndicatorsReport.idl)   | `/awapi/awapi_awiv_adapter_node`<br/> `/autoware_api/external/vehicle_status`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                       |
| `/vehicle/status/velocity_status`                       | [`autoware_auto_vehicle_msgs/msg/VelocityReport`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_vehicle_msgs/msg/VelocityReport.idl)               | `/system/ad_service_state_monitor`<br/>`/autoware_api/external/vehicle_status`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                       |
| `/perception/object_recognition/detection/objects`      | [`autoware_auto_perception_msgs/msg/DetectedObjects`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_perception_msgs/msg/DetectedObjects.idl)       | `/perception/object_recognition/tracking/multi_object_tracker`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | [simulated by simple_sensor_simulator](https://tier4.github.io/scenario_simulator_v2-docs/developer_guide/SimpleSensorSimulator/#object-detection-results-simulation) |
| `/perception/obstacle_segmentation/pointcloud`          | [`sensor_msgs/msg/PointCloud2`](https://github.com/ros2/common_interfaces/blob/master/sensor_msgs/msg/PointCloud2.msg)                                                         | `/planning/scenario_planning/parking/costmap_generator`<br/>`/planning/scenario_planning/lane_driving/motion_planning/surround_obstacle_checker`<br/>`/planning/scenario_planning/lane_driving/motion_planning/obstacle_stop_planner`<br/>`/planning/scenario_planning/lane_driving/behavior_planning/behavior_velocity_planner`<br/>`/perception/occupancy_grid_map/pointcloud_to_laserscan_node`<br/>`/perception/occupancy_grid_map/occupancy_grid_map_node`<br/>`/rviz2`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | [simulated by simple_sensor_simulator](https://tier4.github.io/scenario_simulator_v2-docs/developer_guide/SimpleSensorSimulator/#lidar-simulation)                    |
| `/perception/occupancy_grid_map/map`                    | [`nav_msgs/msg/OccupancyGrid`](https://github.com/ros2/common_interfaces/blob/master/nav_msgs/msg/OccupancyGrid.msg)                                                           | `/planning/scenario_planning/lane_driving/behavior_planning/behavior_velocity_planner`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | [simulated by simple_sensor_simulator](https://tier4.github.io/scenario_simulator_v2-docs/developer_guide/SimpleSensorSimulator/#occupancy-grid-sensor-simulation)    |
| `/perception/traffic_light_recognition/traffic_signals` | [`autoware_auto_perception_msgs/msg/TrafficSignalArray`](https://github.com/tier4/autoware_auto_msgs/blob/tier4/main/autoware_auto_perception_msgs/msg/TrafficSignalArray.idl) |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                       |

[//]: # (| /rosout                                          | rcl_interfaces/msg/Log                              |                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |)
[//]: # (| /tf                                              | tf2_msgs/msg/TFMessage                              |                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |)
[//]: # (| /parameter_events                                | rcl_interfaces/msg/ParameterEvent                   |                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |)

### Service Clients

| service name                       | type                                                                                                                                                                | note |
|------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|------|
| `/api/autoware/set/velocity_limit` | [`tier4_external_api_msgs/srv/SetVelocityLimit`](https://github.com/tier4/tier4_autoware_msgs/blob/tier4/universe/tier4_external_api_msgs/srv/SetVelocityLimit.srv) |      |
| `/api/external/set/engage`         | [`tier4_external_api_msgs/srv/Engage`](https://github.com/tier4/tier4_autoware_msgs/blob/tier4/universe/tier4_external_api_msgs/srv/Engage.srv)                     |      |
| `/api/external/set/rtc_commands`   | [`tier4_rtc_msgs/srv/CooperateCommands`](https://github.com/tier4/tier4_autoware_msgs/blob/tier4/universe/tier4_rtc_msgs/srv/CooperateCommands.srv)                 |      |



[//]: # (/simulation/openscenario_visualizer)

[//]: # (Subscribers:)

[//]: # (/simulation/entity/status: traffic_simulator_msgs/msg/EntityStatusWithTrajectoryArray)

[//]: # (Publishers:)

[//]: # (/simulation/entity/marker: visualization_msgs/msg/MarkerArray)

[//]: # ()
