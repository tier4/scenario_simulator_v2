# [openscenario_interpreter_node-3] === BEFORE UPDATE ===
# [openscenario_interpreter_node-3] Current Time: 50.03333333
# [openscenario_interpreter_node-3] Current Position: x=1623.54385845, y=446.80681429, z=100.00000000
# [openscenario_interpreter_node-3] Current Orientation: x=0.00000000, y=0.00000000, z=0.99565885, w=0.09307770
# [openscenario_interpreter_node-3] Current Linear velocity: x=5.87339408, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Current Angular velocity: x=0.00000000, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Current Linear acceleration: x=0.00000000, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Current Angular acceleration: x=0.00000000, y=0.00000000, z=-0.00000022
# [openscenario_interpreter_node-3] Waypoints count: 2
# [openscenario_interpreter_node-3] Nearest waypoint: x=1623.35660584, y=446.84213301, z=100.00000000
# [openscenario_interpreter_node-3] Euclidean distance to nearest waypoint: 0.19055433
# [openscenario_interpreter_node-3] DISCARD WAYPOINT 1 REASON: intermediate waypoint - this step would overshoot waypoint
# [openscenario_interpreter_node-3]   this_step_distance = 0.19577980 > distance_to_front_waypoint = 0.19132343
# [openscenario_interpreter_node-3] DISCARD WAYPOINT 1: x=1623.35660584, y=446.84213301, z=100.00000000, time=nan at current_time=50.03333333
# [openscenario_interpreter_node-3] === BEFORE UPDATE ===
# [openscenario_interpreter_node-3] Current Time: 50.03333333
# [openscenario_interpreter_node-3] Current Position: x=1623.54385845, y=446.80681429, z=100.00000000
# [openscenario_interpreter_node-3] Current Orientation: x=0.00000000, y=0.00000000, z=0.99565885, w=0.09307770
# [openscenario_interpreter_node-3] Current Linear velocity: x=5.87339408, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Current Angular velocity: x=0.00000000, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Current Linear acceleration: x=0.00000000, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Current Angular acceleration: x=0.00000000, y=0.00000000, z=-0.00000022
# [openscenario_interpreter_node-3] Waypoints count: 1
# [openscenario_interpreter_node-3] Nearest waypoint: x=1602.73132052, y=447.04777347, z=100.00000000
# [openscenario_interpreter_node-3] Euclidean distance to nearest waypoint: 20.81393275
# [openscenario_interpreter_node-3] === AFTER UPDATE ===
# [openscenario_interpreter_node-3] Future Position (using desired_velocity  ): x=1623.34809177, y=446.80908080, z=100.00000000
# [openscenario_interpreter_node-3] Future Position (after lanelet transition): x=1623.34978134, y=446.82609117, z=100.00000000
# [openscenario_interpreter_node-3] Future Orientation: x=0.00000000, y=0.00000000, z=0.99998325, w=0.00578851
# [openscenario_interpreter_node-3] Future Linear velocity: x=5.87339408, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Future Angular velocity: x=0.00000000, y=-0.00000000, z=5.24544494
# [openscenario_interpreter_node-3] Future Linear acceleration: x=0.00000000, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Future Angular acceleration: x=0.00000000, y=-0.00000000, z=157.36334813
# [openscenario_interpreter_node-3] ===============================
# [openscenario_interpreter_node-3] 
# [openscenario_interpreter_node-3] 
# [openscenario_interpreter_node-3] === BEFORE UPDATE ===
# [openscenario_interpreter_node-3] Current Time: 55.30000000
# [openscenario_interpreter_node-3] Current Position: x=1602.73111106, y=447.04777584, z=100.00000000
# [openscenario_interpreter_node-3] Current Orientation: x=0.00000000, y=-0.00000000, z=0.99998400, w=0.00565648
# [openscenario_interpreter_node-3] Current Linear velocity: x=0.02615177, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Current Angular velocity: x=0.00000000, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Current Linear acceleration: x=-0.39227653, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Current Angular acceleration: x=0.00000000, y=0.00000000, z=0.00000003
# [openscenario_interpreter_node-3] Waypoints count: 1
# [openscenario_interpreter_node-3] Nearest waypoint: x=1602.73132052, y=447.04777347, z=100.00000000
# [openscenario_interpreter_node-3] Euclidean distance to nearest waypoint: 0.00020948
# [openscenario_interpreter_node-3] AAAAAAAAAA
# [openscenario_interpreter_node-3] DISCARD WAYPOINT 0 REASON: vehicle is moving in opposite direction
# [openscenario_interpreter_node-3] maximum_distance = 0.00070935  distance_to_front_waypoint = 0.00020948
# [openscenario_interpreter_node-3]   innerProduct(desired_velocity, current_velocity) = -0.00051294 < 0
# [openscenario_interpreter_node-3] DISCARD WAYPOINT 0: x=1602.73132052, y=447.04777347, z=100.00000000, time=nan at current_time=55.30000000
# [openscenario_interpreter_node-3] === BEFORE UPDATE ===
# [openscenario_interpreter_node-3] Current Time: 55.30000000
# [openscenario_interpreter_node-3] Current Position: x=1602.73111106, y=447.04777584, z=100.00000000
# [openscenario_interpreter_node-3] Current Orientation: x=0.00000000, y=-0.00000000, z=0.99998400, w=0.00565648
# [openscenario_interpreter_node-3] Current Linear velocity: x=0.02615177, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Current Angular velocity: x=0.00000000, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Current Linear acceleration: x=-0.39227653, y=0.00000000, z=0.00000000
# [openscenario_interpreter_node-3] Current Angular acceleration: x=0.00000000, y=0.00000000, z=0.00000003
# [openscenario_interpreter_node-3] Waypoints count: 0
# [openscenario_interpreter_node-3] No waypoints available

trajectory_status_demo_node:
  ros__parameters:
    # Simulation parameters
    matching_distance: 2.2425000000000001598721155460225418210029602050781250000000000000

    # Time configuration
    time:
      initial_time: 50.03333333
      timer_interval_ms: 33  # ~30 FPS (1000/30)

    # Entity configuration
    entity:
      name: "ego"
      type: 1  # VEHICLE (EntityType::VEHICLE)
      subtype: 0  # CAR (EntitySubtype::CAR)

      # Initial pose
      pose:
        position: #Current Position: x=1623.54385845, y=446.80681429, z=100.00000000
          x: 1623.54385845
          y: 446.80681429
          z: 100.00000000
        orientation: #x=0.00000000, y=0.00000000, z=0.99565885, w=0.09307770
          x: 0.00000000
          y: 0.00000000
          z: 0.99565885
          w: 0.09307770

      # Bounding box
      bounding_box:
        center:
          x: 1.35
          y: 0.00
          z: 1.25
        dimensions:
          x: 4.4  # length
          y: 1.695  # width
          z: 2.5  # height

      # Initial action status (velocity and acceleration)
      action_status:
        twist:
          linear: # x=5.87339408, y=0.00000000, z=0.00000000
            x: 5.87339408
            y: 0.00000000
            z: 0.00000000
          angular: #x=0.00000000, y=0.00000000, z=0.00000000
            x: 0.00000000
            y: 0.00000000
            z: 0.00000000
        accel: 
          linear: # x=0.00000000, y=0.00000000, z=0.00000000
            x: 0.0000000000000000000000000000000000000000000000000000000000000000
            y: 0.0000000000000000000000000000000000000000000000000000000000000000
            z: 0.0000000000000000000000000000000000000000000000000000000000000000
          angular: #x=0.00000000, y=0.00000000, z=-0.00000022
            x: 0.00000000
            y: 0.00000000
            z: -0.00000022

      # Lanelet pose configuration
      lanelet_pose_valid: false
      lanelet_pose:
        lanelet_id: 0
        s: 0.0
        offset: 0.0
        rpy:
          x: 0.0
          y: 0.0
          z: 0.0

    # Behavior parameters
    behavior:
      dynamic_constraints:
        max_speed: 5.0000000000000000000e+01
        max_acceleration: 1.0000000000000000000e+01
        max_acceleration_rate: 3.0000000000000000000e+00
        max_deceleration: 1.0000000000000000000e+01
        max_deceleration_rate: 3.0000000000000000000e+00

      lane_change_distance: 20.0
      stop_margin: 3.0
      follow_distance: 20.0
      see_around: true

    # Trajectory configuration
    trajectory: 
      initial_distance_offset: 1.0
      dynamic_constraints_ignorable: true
      closed: false #x=1602.73132052, y=447.04777347, z=100.00000000
      waypoint_x: 1602.7313205219436440529534593224525451660156250000000000000000000000
      waypoint_y: 447.0477734698941958413342945277690887451171875000000000000000000000
      waypoint_z: 100.0000000000000000000000000000000000000000000000000000000000000000